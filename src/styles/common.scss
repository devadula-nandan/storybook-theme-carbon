@use "@carbon/styles/scss/theme" as *;
@use "@carbon/styles/scss/components/button/tokens" as button-tokens;
@use "mixins" as *;

/**
 * GLOBAL STYLES
 * Base styling for common elements across the Storybook interface
 */

/**
 * Scrollbar Styling
 * Uses Carbon theme tokens for consistent scrollbar colors
 */
* {
  scrollbar-color: $border-inverse $border-subtle-01 !important;
}

/**
 * Base Body Text
 * Sets default text color using Carbon's secondary text token
 */
body {
  color: $text-secondary !important;
  background-color: $background;
}

/**
 * Text Selection
 * Custom selection color with transparency for better readability
 * Note: Using hardcoded blue color (IBM Blue 60 with 60% opacity)
 */
$selection-color: #0f62fe60;

::selection {
  background-color: $selection-color !important;
}

::-moz-selection {
  background-color: $selection-color !important;
}

/**
 * Main Layout Container
 * Styles the root Storybook layout structure
 */
#root > div > div {
  border-color: $border-subtle-01;

  > div:first-child::after {
    background-color: $border-interactive;
  }
}

/**
 * Accessibility: Skip Link
 * Focus state for keyboard navigation skip link
 */
#storybook-preview-wrapper a[title="Skip to sidebar"]:focus {
  background-color: button-tokens.$button-secondary;
  border-radius: 0px;
  color: $text-on-color;
  box-shadow: $focus 0px 0px 0px 2px inset;
}

/**
 * Popper Interactive Elements
 * Styling for tooltips, dropdowns, and other popper-based components
 */
[data-popper-interactive] {
  border-radius: 0 !important;

  > div {
    background-color: $layer-01;
    border-radius: 0 !important;
    color: $text-secondary !important;
  }

  svg > path {
    fill: $text-primary;
  }

  button {
    border-radius: 0;

    span {
      color: $text-primary !important;
    }

    @include button-states("layer-01");
  }
}
