@use "@carbon/styles/scss/theme";
@use "@carbon/styles/scss/components/button/tokens" as button-tokens;
@use "mixins";
@use "defaults";

/**
 * GLOBAL STYLES
 * Base styling for common elements across the Storybook interface
 */

/**
 * Scrollbar Styling
 * Uses Carbon theme tokens for consistent scrollbar colors
 */
* {
  scrollbar-color: theme.$border-inverse theme.$border-subtle-01 !important;
}

/**
 * Base Body Text
 * Sets default text color using Carbon's secondary text token
 */
body {
  color: theme.$text-secondary !important;
  background-color: theme.$background;
}

/**
 * Text Selection
 * Custom selection color using Carbon theme token with transparency
 * Uses focus color for consistency with Carbon Design System
 */
::selection {
  background-color: color-mix(
    in srgb,
    theme.$focus 60%,
    transparent
  ) !important;
}

::-moz-selection {
  background-color: color-mix(
    in srgb,
    theme.$focus 60%,
    transparent
  ) !important;
}

/**
 * Main Layout Container
 * Styles the root Storybook layout structure
 */
#root > div > div {
  border-color: theme.$border-subtle-01;

  > div:first-child::after {
    background-color: theme.$border-interactive;
  }
}

/**
 * Accessibility: Skip Link
 * Focus state for keyboard navigation skip link
 */
#storybook-preview-wrapper a[title="Skip to sidebar"]:focus {
  background-color: button-tokens.$button-secondary;
  border-radius: 0px;
  color: theme.$text-on-color;
  box-shadow: theme.$focus 0px 0px 0px 2px inset;
}

/**
 * Popper Interactive Elements
 * Styling for tooltips, dropdowns, and other popper-based components
 */
[data-popper-interactive] {
  border-radius: 0 !important;

  > div {
    background-color: theme.$layer-01;
    border-radius: 0 !important;
    color: theme.$text-secondary !important;
  }

  svg > path {
    fill: theme.$text-primary;
  }

  button {
    @include mixins.button(null, "ghost", false, true);

    span {
      color: theme.$text-primary !important;
    }
  }
}
